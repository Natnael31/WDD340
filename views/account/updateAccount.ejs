<h1>
    <%= title %>

</h1>
<%- messages() %>
    <% if (errors) { %>
        <ul class="notice">
            <% errors.array().forEach(error=> { %>
                <li>
                    <%= error.msg %>
                </li>
                <% }) %>
        </ul>
        <% } %>
            <div>
                <form action="/account/update" method="post" id="register-form" class="updateForm">
                    <label for="account_firstname">First Name:</label>
                    <input type="text" id="account_firstname" name="account_firstname" required
                        value="<%= user.account_firstname || '' %>">

                    <label for="account_lastname">Last Name:</label>
                    <input type="text" id="account_lastname" name="account_lastname" required
                        value="<%= user.account_lastname || '' %>">

                    <label for="account_email">Email:</label>
                    <input type="email" id="account_email" name="account_email" required
                        value="<%= user.account_email || '' %>">

                    <input type="hidden" name="account_id" value="<%= user.account_id %>">
                    <button type="submit" id="register-button" disabled>Update Account</button>
                    <input type="hidden" name="account_id" <% if(user.account_id) { %> value="<%= user.account_id %>"
                        <% } %>>
                </form>
            </div>

            <div>
                <h2>Update Password</h2>
                <p>Passwords must be at least 12 characters and contain at least 1 number, 1 uppercase letter, and 1
                    special character.</p>
                <p>*note your original password will be changed</p>
                <form action="/account/changePassword" method="post" id="password-form" class="updateForm">
                    <label for="account_password">New Password:</label>
                    <input type="password" id="account_password" name="account_password" required
                        pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
                        title="At least 12 characters, including a number, an uppercase letter, and a special character.">
                    <button type="submit" id="update-password-button">Change Password</button>

                    <input type="hidden" name="account_id" <% if(user.account_id) { %> value="<%= user.account_id %>"
                        <% } %>>
                </form>
            </div>


            <script src="../../js/inv-update.js"></script>